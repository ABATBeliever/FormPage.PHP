Formpage.PHP
Ver 1.1
License: MIT

FormPageは、PHP製のシンプルなフォーム作成ソフトウェアです。

======================================================================================
<構成>
/formpage/ (システムのルート)
|
|- index.php(システム)
|
|-/case/
| |
| |-/任意の名前/
|   |-define.txt
|   |-result.txt
|
|-/res/
 
・/formpage/?f=任意の名前 がフォームになる
・実際は/formpage/(index.php)が生成
・/formpage/case/任意の名前/define.txtでフォームのデータを定義
・回答した時点で/formpage/case/任意の名前/result.txtに保存(付け足していく感じで)

・質問文、選択肢（単一選択、多数選択、自由記述など）をdefine.txtで定義
・必須設定可能

======================================================================================
<define.txtの例>

「
;define for formpage
title=お問い合わせフォーム //タイトル
until=2025/08/31           //この日を過ぎると利用できない。期限ない場合は空白
author=ほげほげさん        //製作者
interval=300               //同一IPアドレスからの書き込みｲﾝﾀｰﾊﾞﾙ(秒)
hashcheck=1                //回答をハッシュ化して保存し、同一な回答を拒否するか

!select 好きな食べ物は? メロン スイカ イチゴ
selects いったことある地方 北海道 東北 関東 九州
write 連絡用email
writes なんでも
」

======================================================================================
<構文>
・!が先頭に来たものは必須回答
・select {title} {選択肢}...  - 一つ選ぶ、ラジオボタン
・selects {title} {選択肢}... - 複数選択可能、チェックボックス
・write {title}               - 自由記述(一行)
・writes {title}              - 自由記述(複数行)

======================================================================================
<result.txtの例>

「
Case 2025/08/26 11:22:33 IP:xxx.xxx.xx.xx
Question1 「{title}」 メロン
Question2 「{title}」 関東 九州
Question3 「{title}」 hogehoge@hoge.com
Question4 「{title}」->
サンプル
文字
[END]
」

======================================================================================
<スパムフィルタの仕様>
・時間制限
同一のIPアドレスからの書き込みに一定のインターバルを設ける
interval=(秒)で定義、ない場合や0の場合は無効
ip-chk.datを削除してリセット

・内容フィルタ
全く同じ内容の提出を拒否する。
回答の組み合わせをハッシュ化して保存し、同じになった場合提出を拒否
hashcheck=が0の場合や存在しない場合は無効
hash-chk.datを削除してリセット

※すべての質問の回答がすべて過去の例と同じ場合にブロックされるため、正当な理由で
　全く同じ入力が起こりうる場合、無効にしなければならない。

======================================================================================
2025 ABATBeliever.